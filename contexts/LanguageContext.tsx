"use client"

import type React from "react"
import { createContext, useContext, useState, useEffect } from "react"

type Language = "fr" | "en" | "es" | "de"

interface LanguageContextType {
  language: Language
  setLanguage: (lang: Language) => void
  t: (key: string) => string
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined)

// Dictionnaire de traductions
const translations = {
  en: {
    // Navigation
    "nav.explore": "Explore",
    "nav.activities": "Activities",
    "nav.messages": "Messages",
    "nav.profile": "Profile",

    // Home Page
    "home.rotating.text1": "Discover unique places",
    "home.rotating.text2": "Plan your next trip",
    "home.rotating.text3": "Share your adventures",
    "home.subtitle": "Your adventure starts here",
    "home.loading": "Preparing your journey...",
    "home.start": "Start the adventure",

    // Auth Page
    "auth.title": "Connect with local guides",
    "auth.traveler": "I'm a traveler",
    "auth.traveler.desc": "I'm looking for a local guide",
    "auth.guide": "I'm a guide",
    "auth.guide.desc": "I offer my services",
    "auth.traveler.space": "Traveler Space",
    "auth.guide.space": "Guide Space",
    "auth.traveler.tagline": "Discover the world with authentic locals",
    "auth.guide.tagline": "Share your passion and local culture",
    "auth.email": "Email",
    "auth.password": "Password",
    "auth.login": "Sign in",
    "auth.logging": "Signing in...",
    "auth.no.account": "Don't have an account?",
    "auth.create.account": "Create account",
    "auth.test.accounts": "Test accounts:",
    "auth.admin": "Admin",
    "auth.guide.test": "Guide",
    "auth.traveler.test": "Traveler",

    // Signup Page
    "signup.title": "Join our community of travelers and guides",
    "signup.create.account": "Create your account",
    "signup.email": "Email",
    "signup.password": "Password",
    "signup.password.min": "6 characters minimum",
    "signup.password.help": "Password must contain at least 6 characters",
    "signup.checking": "Checking...",
    "signup.next": "Next",
    "signup.who.are.you": "Who are you?",
    "signup.profile.interests": "Choose your profile and interests",
    "signup.traveler": "I'm a traveler",
    "signup.traveler.desc": "I'm looking for local guides",
    "signup.guide": "I'm a local guide",
    "signup.guide.desc": "I share my culture",
    "signup.interests": "Your interests (minimum 3)",
    "signup.interests.selected": "Selected",
    "signup.interests.none": "No interests selected",
    "signup.finalize": "Finalize your profile",
    "signup.first.name": "First name",
    "signup.last.name": "Last name",
    "signup.preferred.language": "Preferred language",
    "signup.select.language": "Select your language",
    "signup.accept": "I accept the",
    "signup.terms": "terms of use",
    "signup.privacy": "privacy policy",
    "signup.previous": "Previous",
    "signup.finish": "Finish",
    "signup.registering": "Registering...",
    "signup.already.member": "Already a member?",
    "signup.sign.in": "Sign in",
    "signup.error.fill.fields": "Please fill in all fields",
    "signup.error.valid.email": "Please enter a valid email",
    "signup.error.password.length": "Password must contain at least 6 characters",
    "signup.error.email.exists": "An account already exists with this email. Try signing in.",
    "signup.error.verification": "Verification error. Please try again.",
    "signup.error.select.user.type": "Please select a user type",
    "signup.error.min.interests": "Please select at least 3 interests",
    "signup.error.accept.terms": "Please accept the terms of use",
    "signup.error.registration": "Registration error",
    "signup.error.unexpected": "An unexpected error occurred",

    // Onboarding Page
    "onboarding.welcome": "Welcome",
    "onboarding.add.photo": "Let's add a photo so others can recognize you",
    "onboarding.photo.url": "Your photo URL (optional)",
    "onboarding.photo.placeholder": "https://example.com/your-photo.jpg",
    "onboarding.drag.drop": "Or drag and drop an image here",
    "onboarding.location.title": "Where are you based?",
    "onboarding.location.help": "This helps us connect you with local guides and travelers",
    "onboarding.location": "Your location",
    "onboarding.location.placeholder": "Paris, France",
    "onboarding.bio": "Tell us about yourself (optional)",
    "onboarding.bio.placeholder": "I'm passionate about travel and love discovering new cultures...",
    "onboarding.languages.title": "What languages do you speak?",
    "onboarding.languages.help": "Select all languages you master",
    "onboarding.languages.selected": "Selected languages",
    "onboarding.interests.title": "Your interests",
    "onboarding.interests.help": "What excites you most when traveling?",
    "onboarding.interests.selected": "Selected interests",
    "onboarding.travel.style": "Travel style",
    "onboarding.travel.help": "How do you like to travel?",
    "onboarding.style.preferred": "Preferred travel style",
    "onboarding.style.select": "Select your style",
    "onboarding.style.backpacker": "Backpacker / Budget",
    "onboarding.style.comfort": "Comfort / Hotels",
    "onboarding.style.luxury": "Luxury / Premium",
    "onboarding.style.family": "Family travel",
    "onboarding.style.solo": "Solo travel",
    "onboarding.style.group": "Group travel",
    "onboarding.budget": "Approximate daily budget",
    "onboarding.budget.select": "Select your budget",
    "onboarding.budget.low": "Small budget (< $50/day)",
    "onboarding.budget.medium": "Medium budget ($50-150/day)",
    "onboarding.budget.high": "High budget ($150-300/day)",
    "onboarding.budget.luxury": "Luxury budget (> $300/day)",
    "onboarding.almost.done": "Profile almost complete!",
    "onboarding.ready": "You're ready to discover",
    "onboarding.travelers": "travelers",
    "onboarding.guides": "local guides",
    "onboarding.authentic": "and live authentic experiences!",
    "onboarding.step": "Step",
    "onboarding.of": "of",
    "onboarding.complete": "complete",
    "onboarding.previous": "Previous",
    "onboarding.next": "Next",
    "onboarding.finish": "Finish",
    "onboarding.finalizing": "Finalizing...",
    "onboarding.modify.later": "You can modify this information later in your profile",

    // Interest Categories
    "interests.travel.culture": "üåç Travel & Culture",
    "interests.gastronomy": "üçΩÔ∏è Gastronomy",
    "interests.sport.adventure": "üèÉ Sport & Adventure",
    "interests.arts.creativity": "üé® Arts & Creativity",
    "interests.nature.wellness": "üåø Nature & Wellness",
    "interests.learning": "üéì Learning",
    "interests.social.entertainment": "üéâ Social & Entertainment",

    // Page Explorer
    "explore.title": "Discover the world with local guides",
    "explore.subtitle": "Connect with authentic guides for unique experiences",
    "explore.search.placeholder": "Search for a destination...",
    "explore.search.button": "Search",
    "explore.popular": "Popular destinations",
    "explore.guides": "Recommended guides",
    "explore.rating": "stars",
    "explore.reviews": "reviews",
    "explore.from": "From",
    "explore.per.person": "per person",

    // Page Activit√©s
    "activities.title": "My Activities",
    "activities.upcoming": "Upcoming",
    "activities.past": "Past",
    "activities.with": "with",
    "activities.participants": "participants",
    "activities.modify": "Modify",
    "activities.cancel": "Cancel appointment",
    "activities.cancel.reason": "Cancellation reason (optional)",
    "activities.cancel.confirm": "Confirm cancellation",
    "activities.cancel.success": "Appointment cancelled successfully",

    // Page Messages
    "messages.title": "Messages",
    "messages.search": "Search conversations...",
    "messages.online": "Online",
    "messages.typing": "Typing...",
    "messages.type.message": "Type your message...",
    "messages.send": "Send",

    // Page Profil
    "profile.title": "My Profile",
    "profile.edit": "Edit profile",
    "profile.level": "Level",
    "profile.points": "points",
    "profile.stats.trips": "Trips",
    "profile.stats.guides": "Connected guides",
    "profile.stats.destinations": "Destinations",
    "profile.tabs.overview": "Overview",
    "profile.tabs.trips": "Trips",
    "profile.tabs.achievements": "Achievements",
    "profile.tabs.settings": "Settings",
    "profile.bio": "Biography",
    "profile.languages": "Spoken languages",
    "profile.interests": "Interests",
    "profile.favorites": "Favorite destinations",
    "profile.settings.notifications": "Manage notifications",
    "profile.settings.privacy": "Privacy",
    "profile.settings.language": "Language and region",
    "profile.settings.help": "Help and support",
    "profile.settings.logout": "Sign out",

    // Notifications
    "notifications.title": "Notifications",
    "notifications.push": "Push notifications",
    "notifications.push.enable": "Enable push notifications",
    "notifications.push.test": "Test notifications",
    "notifications.types": "Notification types",
    "notifications.messages": "New messages",
    "notifications.bookings": "Bookings",
    "notifications.promotions": "Promotions",
    "notifications.channels": "Notification channels",
    "notifications.email": "Email",
    "notifications.sms": "SMS",
    "notifications.quiet.hours": "Quiet hours",

    // Privacy
    "privacy.title": "Privacy",
    "privacy.profile.visibility": "Profile visibility",
    "privacy.location": "Location",
    "privacy.messages": "Messages",
    "privacy.data": "Data and analytics",

    // Language
    "language.title": "Language and region",
    "language.app": "App language",
    "language.regional": "Regional format",
    "language.content": "Preferred content languages",
    "language.changing": "Changing language...",
    "language.changed": "Language changed successfully!",

    // Common
    "common.save": "Save",
    "common.cancel": "Cancel",
    "common.confirm": "Confirm",
    "common.back": "Back",
    "common.loading": "Loading...",
    "common.error": "An error occurred",
    "common.success": "Success!",
  },
  fr: {
    // Navigation
    "nav.explore": "Explorer",
    "nav.activities": "Activit√©s",
    "nav.messages": "Messages",
    "nav.profile": "Profil",

    // Home Page
    "home.rotating.text1": "D√©couvrez des lieux uniques",
    "home.rotating.text2": "Planifiez votre prochain voyage",
    "home.rotating.text3": "Partagez vos aventures",
    "home.subtitle": "Votre aventure commence ici",
    "home.loading": "Pr√©paration de votre voyage...",
    "home.start": "Commencer l'aventure",

    // Auth Page
    "auth.title": "Connectez-vous avec des guides locaux",
    "auth.traveler": "Je suis voyageur",
    "auth.traveler.desc": "Je cherche un guide local",
    "auth.guide": "Je suis guide",
    "auth.guide.desc": "Je propose mes services",
    "auth.traveler.space": "Espace Voyageur",
    "auth.guide.space": "Espace Guide",
    "auth.traveler.tagline": "D√©couvrez le monde avec des locaux authentiques",
    "auth.guide.tagline": "Partagez votre passion et votre culture locale",
    "auth.email": "Email",
    "auth.password": "Mot de passe",
    "auth.login": "Se connecter",
    "auth.logging": "Connexion...",
    "auth.no.account": "Pas encore de compte ?",
    "auth.create.account": "Cr√©er un compte",
    "auth.test.accounts": "Comptes de test :",
    "auth.admin": "Admin",
    "auth.guide.test": "Guide",
    "auth.traveler.test": "Voyageur",

    // Signup Page
    "signup.title": "Rejoignez notre communaut√© de voyageurs et guides",
    "signup.create.account": "Cr√©ez votre compte",
    "signup.email": "Email",
    "signup.password": "Mot de passe",
    "signup.password.min": "6 caract√®res minimum",
    "signup.password.help": "Le mot de passe doit contenir au moins 6 caract√®res",
    "signup.checking": "V√©rification...",
    "signup.next": "Suivant",
    "signup.who.are.you": "Qui √™tes-vous ?",
    "signup.profile.interests": "Choisissez votre profil et vos centres d'int√©r√™t",
    "signup.traveler": "Je suis voyageur",
    "signup.traveler.desc": "Je cherche des guides locaux",
    "signup.guide": "Je suis guide local",
    "signup.guide.desc": "Je partage ma culture",
    "signup.interests": "Vos centres d'int√©r√™t (minimum 3)",
    "signup.interests.selected": "S√©lectionn√©s",
    "signup.interests.none": "Aucun centre d'int√©r√™t s√©lectionn√©",
    "signup.finalize": "Finalisez votre profil",
    "signup.first.name": "Pr√©nom",
    "signup.last.name": "Nom",
    "signup.preferred.language": "Langue pr√©f√©r√©e",
    "signup.select.language": "S√©lectionnez votre langue",
    "signup.accept": "J'accepte les",
    "signup.terms": "conditions d'utilisation",
    "signup.privacy": "politique de confidentialit√©",
    "signup.previous": "Pr√©c√©dent",
    "signup.finish": "Terminer",
    "signup.registering": "Inscription...",
    "signup.already.member": "D√©j√† membre ?",
    "signup.sign.in": "Se connecter",
    "signup.error.fill.fields": "Veuillez remplir tous les champs",
    "signup.error.valid.email": "Veuillez entrer un email valide",
    "signup.error.password.length": "Le mot de passe doit contenir au moins 6 caract√®res",
    "signup.error.email.exists": "Un compte existe d√©j√† avec cet email. Essayez de vous connecter.",
    "signup.error.verification": "Erreur lors de la v√©rification. Veuillez r√©essayer.",
    "signup.error.select.user.type": "Veuillez s√©lectionner un type d'utilisateur",
    "signup.error.min.interests": "Veuillez s√©lectionner au moins 3 centres d'int√©r√™t",
    "signup.error.accept.terms": "Veuillez accepter les conditions d'utilisation",
    "signup.error.registration": "Erreur d'inscription",
    "signup.error.unexpected": "Une erreur inattendue s'est produite",

    // Onboarding Page
    "onboarding.welcome": "Bienvenue",
    "onboarding.add.photo": "Ajoutons une photo pour que les autres puissent vous reconna√Ætre",
    "onboarding.photo.url": "URL de votre photo (optionnel)",
    "onboarding.photo.placeholder": "https://exemple.com/votre-photo.jpg",
    "onboarding.drag.drop": "Ou glissez-d√©posez une image ici",
    "onboarding.location.title": "O√π √™tes-vous bas√©(e) ?",
    "onboarding.location.help": "Cela nous aide √† vous connecter avec des guides et voyageurs locaux",
    "onboarding.location": "Votre localisation",
    "onboarding.location.placeholder": "Paris, France",
    "onboarding.bio": "Parlez-nous de vous (optionnel)",
    "onboarding.bio.placeholder": "Je suis passionn√©(e) de voyage et j'adore d√©couvrir de nouvelles cultures...",
    "onboarding.languages.title": "Quelles langues parlez-vous ?",
    "onboarding.languages.help": "S√©lectionnez toutes les langues que vous ma√Ætrisez",
    "onboarding.languages.selected": "Langues s√©lectionn√©es",
    "onboarding.interests.title": "Vos centres d'int√©r√™t",
    "onboarding.interests.help": "Qu'est-ce qui vous passionne le plus en voyage ?",
    "onboarding.interests.selected": "Centres d'int√©r√™t s√©lectionn√©s",
    "onboarding.travel.style": "Style de voyage",
    "onboarding.travel.help": "Comment aimez-vous voyager ?",
    "onboarding.style.preferred": "Style de voyage pr√©f√©r√©",
    "onboarding.style.select": "S√©lectionnez votre style",
    "onboarding.style.backpacker": "Backpacker / Routard",
    "onboarding.style.comfort": "Confort / H√¥tels",
    "onboarding.style.luxury": "Luxe / Premium",
    "onboarding.style.family": "Voyage en famille",
    "onboarding.style.solo": "Voyage solo",
    "onboarding.style.group": "Voyage en groupe",
    "onboarding.budget": "Budget approximatif par jour",
    "onboarding.budget.select": "S√©lectionnez votre budget",
    "onboarding.budget.low": "Petit budget (< 50‚Ç¨/jour)",
    "onboarding.budget.medium": "Budget moyen (50-150‚Ç¨/jour)",
    "onboarding.budget.high": "Budget √©lev√© (150-300‚Ç¨/jour)",
    "onboarding.budget.luxury": "Budget luxe (> 300‚Ç¨/jour)",
    "onboarding.almost.done": "Profil presque termin√© !",
    "onboarding.ready": "Vous √™tes pr√™t(e) √† d√©couvrir",
    "onboarding.travelers": "des voyageurs",
    "onboarding.guides": "des guides locaux",
    "onboarding.authentic": "et √† vivre des exp√©riences authentiques !",
    "onboarding.step": "√âtape",
    "onboarding.of": "sur",
    "onboarding.complete": "termin√©",
    "onboarding.previous": "Pr√©c√©dent",
    "onboarding.next": "Suivant",
    "onboarding.finish": "Terminer",
    "onboarding.finalizing": "Finalisation...",
    "onboarding.modify.later": "Vous pourrez modifier ces informations plus tard dans votre profil",

    // Interest Categories
    "interests.travel.culture": "üåç Voyage & Culture",
    "interests.gastronomy": "üçΩÔ∏è Gastronomie",
    "interests.sport.adventure": "üèÉ Sport & Aventure",
    "interests.arts.creativity": "üé® Arts & Cr√©ativit√©",
    "interests.nature.wellness": "üåø Nature & Bien-√™tre",
    "interests.learning": "üéì Apprentissage",
    "interests.social.entertainment": "üéâ Social & Divertissement",

    // Page Explorer
    "explore.title": "D√©couvrez le monde avec des guides locaux",
    "explore.subtitle": "Connectez-vous avec des guides authentiques pour des exp√©riences uniques",
    "explore.search.placeholder": "Rechercher une destination...",
    "explore.search.button": "Rechercher",
    "explore.popular": "Destinations populaires",
    "explore.guides": "Guides recommand√©s",
    "explore.rating": "√©toiles",
    "explore.reviews": "avis",
    "explore.from": "√Ä partir de",
    "explore.per.person": "par personne",

    // Page Activit√©s
    "activities.title": "Mes Activit√©s",
    "activities.upcoming": "√Ä venir",
    "activities.past": "Pass√©es",
    "activities.with": "avec",
    "activities.participants": "participants",
    "activities.modify": "Modifier",
    "activities.cancel": "Annuler le rendez-vous",
    "activities.cancel.reason": "Raison de l'annulation (optionnel)",
    "activities.cancel.confirm": "Confirmer l'annulation",
    "activities.cancel.success": "Rendez-vous annul√© avec succ√®s",

    // Page Messages
    "messages.title": "Messages",
    "messages.search": "Rechercher dans les conversations...",
    "messages.online": "En ligne",
    "messages.typing": "En train d'√©crire...",
    "messages.type.message": "Tapez votre message...",
    "messages.send": "Envoyer",

    // Page Profil
    "profile.title": "Mon Profil",
    "profile.edit": "Modifier le profil",
    "profile.level": "Niveau",
    "profile.points": "points",
    "profile.stats.trips": "Voyages",
    "profile.stats.guides": "Guides connect√©s",
    "profile.stats.destinations": "Destinations",
    "profile.tabs.overview": "Aper√ßu",
    "profile.tabs.trips": "Voyages",
    "profile.tabs.achievements": "Succ√®s",
    "profile.tabs.settings": "Param√®tres",
    "profile.bio": "Biographie",
    "profile.languages": "Langues parl√©es",
    "profile.interests": "Centres d'int√©r√™t",
    "profile.favorites": "Destinations favorites",
    "profile.settings.notifications": "G√©rer les notifications",
    "profile.settings.privacy": "Confidentialit√©",
    "profile.settings.language": "Langue et r√©gion",
    "profile.settings.help": "Aide et support",
    "profile.settings.logout": "Se d√©connecter",

    // Notifications
    "notifications.title": "Notifications",
    "notifications.push": "Notifications push",
    "notifications.push.enable": "Activer les notifications push",
    "notifications.push.test": "Tester les notifications",
    "notifications.types": "Types de notifications",
    "notifications.messages": "Nouveaux messages",
    "notifications.bookings": "R√©servations",
    "notifications.promotions": "Promotions",
    "notifications.channels": "Canaux de notification",
    "notifications.email": "Email",
    "notifications.sms": "SMS",
    "notifications.quiet.hours": "Heures silencieuses",

    // Confidentialit√©
    "privacy.title": "Confidentialit√©",
    "privacy.profile.visibility": "Visibilit√© du profil",
    "privacy.location": "Localisation",
    "privacy.messages": "Messages",
    "privacy.data": "Donn√©es et analyse",

    // Langue
    "language.title": "Langue et r√©gion",
    "language.app": "Langue de l'application",
    "language.regional": "Format r√©gional",
    "language.content": "Langues de contenu pr√©f√©r√©es",
    "language.changing": "Changement de langue en cours...",
    "language.changed": "Langue chang√©e avec succ√®s !",

    // Commun
    "common.save": "Sauvegarder",
    "common.cancel": "Annuler",
    "common.confirm": "Confirmer",
    "common.back": "Retour",
    "common.loading": "Chargement...",
    "common.error": "Une erreur s'est produite",
    "common.success": "Succ√®s !",
  },
  es: {
    // Navigation
    "nav.explore": "Explorar",
    "nav.activities": "Actividades",
    "nav.messages": "Mensajes",
    "nav.profile": "Perfil",

    // Home Page
    "home.rotating.text1": "Descubre lugares √∫nicos",
    "home.rotating.text2": "Planifica tu pr√≥ximo viaje",
    "home.rotating.text3": "Comparte tus aventuras",
    "home.subtitle": "Tu aventura comienza aqu√≠",
    "home.loading": "Preparando tu viaje...",
    "home.start": "Comenzar la aventura",

    // Auth Page
    "auth.title": "Con√©ctate con gu√≠as locales",
    "auth.traveler": "Soy viajero",
    "auth.traveler.desc": "Busco un gu√≠a local",
    "auth.guide": "Soy gu√≠a",
    "auth.guide.desc": "Ofrezco mis servicios",
    "auth.traveler.space": "Espacio Viajero",
    "auth.guide.space": "Espacio Gu√≠a",
    "auth.traveler.tagline": "Descubre el mundo con locales aut√©nticos",
    "auth.guide.tagline": "Comparte tu pasi√≥n y cultura local",
    "auth.email": "Email",
    "auth.password": "Contrase√±a",
    "auth.login": "Iniciar sesi√≥n",
    "auth.logging": "Iniciando sesi√≥n...",
    "auth.no.account": "¬øNo tienes cuenta?",
    "auth.create.account": "Crear cuenta",
    "auth.test.accounts": "Cuentas de prueba:",
    "auth.admin": "Admin",
    "auth.guide.test": "Gu√≠a",
    "auth.traveler.test": "Viajero",

    // Signup Page
    "signup.title": "√önete a nuestra comunidad de viajeros y gu√≠as",
    "signup.create.account": "Crea tu cuenta",
    "signup.email": "Email",
    "signup.password": "Contrase√±a",
    "signup.password.min": "6 caracteres m√≠nimo",
    "signup.password.help": "La contrase√±a debe contener al menos 6 caracteres",
    "signup.checking": "Verificando...",
    "signup.next": "Siguiente",
    "signup.who.are.you": "¬øQui√©n eres?",
    "signup.profile.interests": "Elige tu perfil e intereses",
    "signup.traveler": "Soy viajero",
    "signup.traveler.desc": "Busco gu√≠as locales",
    "signup.guide": "Soy gu√≠a local",
    "signup.guide.desc": "Comparto mi cultura",
    "signup.interests": "Tus intereses (m√≠nimo 3)",
    "signup.interests.selected": "Seleccionados",
    "signup.interests.none": "Ning√∫n inter√©s seleccionado",
    "signup.finalize": "Finaliza tu perfil",
    "signup.first.name": "Nombre",
    "signup.last.name": "Apellido",
    "signup.preferred.language": "Idioma preferido",
    "signup.select.language": "Selecciona tu idioma",
    "signup.accept": "Acepto los",
    "signup.terms": "t√©rminos de uso",
    "signup.privacy": "pol√≠tica de privacidad",
    "signup.previous": "Anterior",
    "signup.finish": "Terminar",
    "signup.registering": "Registrando...",
    "signup.already.member": "¬øYa eres miembro?",
    "signup.sign.in": "Iniciar sesi√≥n",
    "signup.error.fill.fields": "Por favor completa todos los campos",
    "signup.error.valid.email": "Por favor ingresa un email v√°lido",
    "signup.error.password.length": "La contrase√±a debe contener al menos 6 caracteres",
    "signup.error.email.exists": "Ya existe una cuenta con este email. Intenta iniciar sesi√≥n.",
    "signup.error.verification": "Error de verificaci√≥n. Por favor intenta de nuevo.",
    "signup.error.select.user.type": "Por favor selecciona un tipo de usuario",
    "signup.error.min.interests": "Por favor selecciona al menos 3 intereses",
    "signup.error.accept.terms": "Por favor acepta los t√©rminos de uso",
    "signup.error.registration": "Error de registro",
    "signup.error.unexpected": "Ocurri√≥ un error inesperado",

    // Onboarding Page
    "onboarding.welcome": "Bienvenido",
    "onboarding.add.photo": "Agreguemos una foto para que otros puedan reconocerte",
    "onboarding.photo.url": "URL de tu foto (opcional)",
    "onboarding.photo.placeholder": "https://ejemplo.com/tu-foto.jpg",
    "onboarding.drag.drop": "O arrastra y suelta una imagen aqu√≠",
    "onboarding.location.title": "¬øD√≥nde te encuentras?",
    "onboarding.location.help": "Esto nos ayuda a conectarte con gu√≠as y viajeros locales",
    "onboarding.location": "Tu ubicaci√≥n",
    "onboarding.location.placeholder": "Madrid, Espa√±a",
    "onboarding.bio": "Cu√©ntanos sobre ti (opcional)",
    "onboarding.bio.placeholder": "Soy apasionado de los viajes y me encanta descubrir nuevas culturas...",
    "onboarding.languages.title": "¬øQu√© idiomas hablas?",
    "onboarding.languages.help": "Selecciona todos los idiomas que dominas",
    "onboarding.languages.selected": "Idiomas seleccionados",
    "onboarding.interests.title": "Tus intereses",
    "onboarding.interests.help": "¬øQu√© te emociona m√°s al viajar?",
    "onboarding.interests.selected": "Intereses seleccionados",
    "onboarding.travel.style": "Estilo de viaje",
    "onboarding.travel.help": "¬øC√≥mo te gusta viajar?",
    "onboarding.style.preferred": "Estilo de viaje preferido",
    "onboarding.style.select": "Selecciona tu estilo",
    "onboarding.style.backpacker": "Mochilero / Econ√≥mico",
    "onboarding.style.comfort": "Confort / Hoteles",
    "onboarding.style.luxury": "Lujo / Premium",
    "onboarding.style.family": "Viaje familiar",
    "onboarding.style.solo": "Viaje solo",
    "onboarding.style.group": "Viaje en grupo",
    "onboarding.budget": "Presupuesto diario aproximado",
    "onboarding.budget.select": "Selecciona tu presupuesto",
    "onboarding.budget.low": "Presupuesto bajo (< $50/d√≠a)",
    "onboarding.budget.medium": "Presupuesto medio ($50-150/d√≠a)",
    "onboarding.budget.high": "Presupuesto alto ($150-300/d√≠a)",
    "onboarding.budget.luxury": "Presupuesto de lujo (> $300/d√≠a)",
    "onboarding.almost.done": "¬°Perfil casi completo!",
    "onboarding.ready": "Est√°s listo para descubrir",
    "onboarding.travelers": "viajeros",
    "onboarding.guides": "gu√≠as locales",
    "onboarding.authentic": "y vivir experiencias aut√©nticas!",
    "onboarding.step": "Paso",
    "onboarding.of": "de",
    "onboarding.complete": "completo",
    "onboarding.previous": "Anterior",
    "onboarding.next": "Siguiente",
    "onboarding.finish": "Terminar",
    "onboarding.finalizing": "Finalizando...",
    "onboarding.modify.later": "Puedes modificar esta informaci√≥n m√°s tarde en tu perfil",

    // Interest Categories
    "interests.travel.culture": "üåç Viaje y Cultura",
    "interests.gastronomy": "üçΩÔ∏è Gastronom√≠a",
    "interests.sport.adventure": "üèÉ Deporte y Aventura",
    "interests.arts.creativity": "üé® Arte y Creatividad",
    "interests.nature.wellness": "üåø Naturaleza y Bienestar",
    "interests.learning": "üéì Aprendizaje",
    "interests.social.entertainment": "üéâ Social y Entretenimiento",

    // Page Explorer
    "explore.title": "Descubre el mundo con gu√≠as locales",
    "explore.subtitle": "Con√©ctate con gu√≠as aut√©nticos para experiencias √∫nicas",
    "explore.search.placeholder": "Buscar un destino...",
    "explore.search.button": "Buscar",
    "explore.popular": "Destinos populares",
    "explore.guides": "Gu√≠as recomendados",
    "explore.rating": "estrellas",
    "explore.reviews": "rese√±as",
    "explore.from": "Desde",
    "explore.per.person": "por persona",

    // Page Activit√©s
    "activities.title": "Mis Actividades",
    "activities.upcoming": "Pr√≥ximas",
    "activities.past": "Pasadas",
    "activities.with": "con",
    "activities.participants": "participantes",
    "activities.modify": "Modificar",
    "activities.cancel": "Cancelar cita",
    "activities.cancel.reason": "Raz√≥n de cancelaci√≥n (opcional)",
    "activities.cancel.confirm": "Confirmar cancelaci√≥n",
    "activities.cancel.success": "Cita cancelada exitosamente",

    // Page Messages
    "messages.title": "Mensajes",
    "messages.search": "Buscar conversaciones...",
    "messages.online": "En l√≠nea",
    "messages.typing": "Escribiendo...",
    "messages.type.message": "Escribe tu mensaje...",
    "messages.send": "Enviar",

    // Page Profil
    "profile.title": "Mi Perfil",
    "profile.edit": "Editar perfil",
    "profile.level": "Nivel",
    "profile.points": "puntos",
    "profile.stats.trips": "Viajes",
    "profile.stats.guides": "Gu√≠as conectados",
    "profile.stats.destinations": "Destinos",
    "profile.tabs.overview": "Resumen",
    "profile.tabs.trips": "Viajes",
    "profile.tabs.achievements": "Logros",
    "profile.tabs.settings": "Configuraci√≥n",
    "profile.bio": "Biograf√≠a",
    "profile.languages": "Idiomas hablados",
    "profile.interests": "Intereses",
    "profile.favorites": "Destinos favoritos",
    "profile.settings.notifications": "Gestionar notificaciones",
    "profile.settings.privacy": "Privacidad",
    "profile.settings.language": "Idioma y regi√≥n",
    "profile.settings.help": "Ayuda y soporte",
    "profile.settings.logout": "Cerrar sesi√≥n",

    // Notifications
    "notifications.title": "Notificaciones",
    "notifications.push": "Notificaciones push",
    "notifications.push.enable": "Activar notificaciones push",
    "notifications.push.test": "Probar notificaciones",
    "notifications.types": "Tipos de notificaciones",
    "notifications.messages": "Nuevos mensajes",
    "notifications.bookings": "Reservas",
    "notifications.promotions": "Promociones",
    "notifications.channels": "Canales de notificaci√≥n",
    "notifications.email": "Email",
    "notifications.sms": "SMS",
    "notifications.quiet.hours": "Horas silenciosas",

    // Confidentialit√©
    "privacy.title": "Privacidad",
    "privacy.profile.visibility": "Visibilidad del perfil",
    "privacy.location": "Ubicaci√≥n",
    "privacy.messages": "Mensajes",
    "privacy.data": "Datos y an√°lisis",

    // Langue
    "language.title": "Idioma y regi√≥n",
    "language.app": "Idioma de la aplicaci√≥n",
    "language.regional": "Formato regional",
    "language.content": "Idiomas de contenido preferidos",
    "language.changing": "Cambiando idioma...",
    "language.changed": "¬°Idioma cambiado exitosamente!",

    // Commun
    "common.save": "Guardar",
    "common.cancel": "Cancelar",
    "common.confirm": "Confirmar",
    "common.back": "Volver",
    "common.loading": "Cargando...",
    "common.error": "Ocurri√≥ un error",
    "common.success": "¬°√âxito!",
  },
  de: {
    // Navigation
    "nav.explore": "Entdecken",
    "nav.activities": "Aktivit√§ten",
    "nav.messages": "Nachrichten",
    "nav.profile": "Profil",

    // Home Page
    "home.rotating.text1": "Entdecke einzigartige Orte",
    "home.rotating.text2": "Plane deine n√§chste Reise",
    "home.rotating.text3": "Teile deine Abenteuer",
    "home.subtitle": "Dein Abenteuer beginnt hier",
    "home.loading": "Bereite deine Reise vor...",
    "home.start": "Abenteuer starten",

    // Auth Page
    "auth.title": "Verbinde dich mit lokalen Guides",
    "auth.traveler": "Ich bin Reisender",
    "auth.traveler.desc": "Ich suche einen lokalen Guide",
    "auth.guide": "Ich bin Guide",
    "auth.guide.desc": "Ich biete meine Dienste an",
    "auth.traveler.space": "Reisenden-Bereich",
    "auth.guide.space": "Guide-Bereich",
    "auth.traveler.tagline": "Entdecke die Welt mit authentischen Einheimischen",
    "auth.guide.tagline": "Teile deine Leidenschaft und lokale Kultur",
    "auth.email": "E-Mail",
    "auth.password": "Passwort",
    "auth.login": "Anmelden",
    "auth.logging": "Anmeldung...",
    "auth.no.account": "Noch kein Konto?",
    "auth.create.account": "Konto erstellen",
    "auth.test.accounts": "Test-Konten:",
    "auth.admin": "Admin",
    "auth.guide.test": "Guide",
    "auth.traveler.test": "Reisender",

    // Signup Page
    "signup.title": "Tritt unserer Gemeinschaft von Reisenden und Guides bei",
    "signup.create.account": "Erstelle dein Konto",
    "signup.email": "E-Mail",
    "signup.password": "Passwort",
    "signup.password.min": "6 Zeichen minimum",
    "signup.password.help": "Das Passwort muss mindestens 6 Zeichen enthalten",
    "signup.checking": "√úberpr√ºfung...",
    "signup.next": "Weiter",
    "signup.who.are.you": "Wer bist du?",
    "signup.profile.interests": "W√§hle dein Profil und Interessen",
    "signup.traveler": "Ich bin Reisender",
    "signup.traveler.desc": "Ich suche lokale Guides",
    "signup.guide": "Ich bin lokaler Guide",
    "signup.guide.desc": "Ich teile meine Kultur",
    "signup.interests": "Deine Interessen (mindestens 3)",
    "signup.interests.selected": "Ausgew√§hlt",
    "signup.interests.none": "Keine Interessen ausgew√§hlt",
    "signup.finalize": "Finalisiere dein Profil",
    "signup.first.name": "Vorname",
    "signup.last.name": "Nachname",
    "signup.preferred.language": "Bevorzugte Sprache",
    "signup.select.language": "W√§hle deine Sprache",
    "signup.accept": "Ich akzeptiere die",
    "signup.terms": "Nutzungsbedingungen",
    "signup.privacy": "Datenschutzrichtlinie",
    "signup.previous": "Zur√ºck",
    "signup.finish": "Beenden",
    "signup.registering": "Registrierung...",
    "signup.already.member": "Bereits Mitglied?",
    "signup.sign.in": "Anmelden",
    "signup.error.fill.fields": "Bitte f√ºlle alle Felder aus",
    "signup.error.valid.email": "Bitte gib eine g√ºltige E-Mail ein",
    "signup.error.password.length": "Das Passwort muss mindestens 6 Zeichen enthalten",
    "signup.error.email.exists": "Ein Konto mit dieser E-Mail existiert bereits. Versuche dich anzumelden.",
    "signup.error.verification": "√úberpr√ºfungsfehler. Bitte versuche es erneut.",
    "signup.error.select.user.type": "Bitte w√§hle einen Benutzertyp",
    "signup.error.min.interests": "Bitte w√§hle mindestens 3 Interessen",
    "signup.error.accept.terms": "Bitte akzeptiere die Nutzungsbedingungen",
    "signup.error.registration": "Registrierungsfehler",
    "signup.error.unexpected": "Ein unerwarteter Fehler ist aufgetreten",

    // Onboarding Page
    "onboarding.welcome": "Willkommen",
    "onboarding.add.photo": "Lass uns ein Foto hinzuf√ºgen, damit andere dich erkennen k√∂nnen",
    "onboarding.photo.url": "Deine Foto-URL (optional)",
    "onboarding.photo.placeholder": "https://beispiel.com/dein-foto.jpg",
    "onboarding.drag.drop": "Oder ziehe ein Bild hierher",
    "onboarding.location.title": "Wo bist du ans√§ssig?",
    "onboarding.location.help": "Das hilft uns, dich mit lokalen Guides und Reisenden zu verbinden",
    "onboarding.location": "Dein Standort",
    "onboarding.location.placeholder": "Berlin, Deutschland",
    "onboarding.bio": "Erz√§hle uns von dir (optional)",
    "onboarding.bio.placeholder": "Ich bin leidenschaftlich am Reisen und liebe es, neue Kulturen zu entdecken...",
    "onboarding.languages.title": "Welche Sprachen sprichst du?",
    "onboarding.languages.help": "W√§hle alle Sprachen, die du beherrschst",
    "onboarding.languages.selected": "Ausgew√§hlte Sprachen",
    "onboarding.interests.title": "Deine Interessen",
    "onboarding.interests.help": "Was begeistert dich am meisten beim Reisen?",
    "onboarding.interests.selected": "Ausgew√§hlte Interessen",
    "onboarding.travel.style": "Reisestil",
    "onboarding.travel.help": "Wie reist du gerne?",
    "onboarding.style.preferred": "Bevorzugter Reisestil",
    "onboarding.style.select": "W√§hle deinen Stil",
    "onboarding.style.backpacker": "Backpacker / Budget",
    "onboarding.style.comfort": "Komfort / Hotels",
    "onboarding.style.luxury": "Luxus / Premium",
    "onboarding.style.family": "Familienreise",
    "onboarding.style.solo": "Alleinreise",
    "onboarding.style.group": "Gruppenreise",
    "onboarding.budget": "Ungef√§hres Tagesbudget",
    "onboarding.budget.select": "W√§hle dein Budget",
    "onboarding.budget.low": "Kleines Budget (< 50‚Ç¨/Tag)",
    "onboarding.budget.medium": "Mittleres Budget (50-150‚Ç¨/Tag)",
    "onboarding.budget.high": "Hohes Budget (150-300‚Ç¨/Tag)",
    "onboarding.budget.luxury": "Luxus-Budget (> 300‚Ç¨/Tag)",
    "onboarding.almost.done": "Profil fast fertig!",
    "onboarding.ready": "Du bist bereit zu entdecken",
    "onboarding.travelers": "Reisende",
    "onboarding.guides": "lokale Guides",
    "onboarding.authentic": "und authentische Erfahrungen zu leben!",
    "onboarding.step": "Schritt",
    "onboarding.of": "von",
    "onboarding.complete": "abgeschlossen",
    "onboarding.previous": "Zur√ºck",
    "onboarding.next": "Weiter",
    "onboarding.finish": "Beenden",
    "onboarding.finalizing": "Finalisierung...",
    "onboarding.modify.later": "Du kannst diese Informationen sp√§ter in deinem Profil √§ndern",

    // Interest Categories
    "interests.travel.culture": "üåç Reise & Kultur",
    "interests.gastronomy": "üçΩÔ∏è Gastronomie",
    "interests.sport.adventure": "üèÉ Sport & Abenteuer",
    "interests.arts.creativity": "üé® Kunst & Kreativit√§t",
    "interests.nature.wellness": "üåø Natur & Wellness",
    "interests.learning": "üéì Lernen",
    "interests.social.entertainment": "üéâ Soziales & Unterhaltung",

    // Page Explorer
    "explore.title": "Entdecke die Welt mit lokalen Guides",
    "explore.subtitle": "Verbinde dich mit authentischen Guides f√ºr einzigartige Erfahrungen",
    "explore.search.placeholder": "Nach einem Ziel suchen...",
    "explore.search.button": "Suchen",
    "explore.popular": "Beliebte Ziele",
    "explore.guides": "Empfohlene Guides",
    "explore.rating": "Sterne",
    "explore.reviews": "Bewertungen",
    "explore.from": "Ab",
    "explore.per.person": "pro Person",

    // Page Activit√©s
    "activities.title": "Meine Aktivit√§ten",
    "activities.upcoming": "Bevorstehend",
    "activities.past": "Vergangen",
    "activities.with": "mit",
    "activities.participants": "Teilnehmer",
    "activities.modify": "√Ñndern",
    "activities.cancel": "Termin absagen",
    "activities.cancel.reason": "Grund f√ºr Absage (optional)",
    "activities.cancel.confirm": "Absage best√§tigen",
    "activities.cancel.success": "Termin erfolgreich abgesagt",

    // Page Messages
    "messages.title": "Nachrichten",
    "messages.search": "Unterhaltungen durchsuchen...",
    "messages.online": "Online",
    "messages.typing": "Tippt...",
    "messages.type.message": "Nachricht eingeben...",
    "messages.send": "Senden",

    // Page Profil
    "profile.title": "Mein Profil",
    "profile.edit": "Profil bearbeiten",
    "profile.level": "Level",
    "profile.points": "Punkte",
    "profile.stats.trips": "Reisen",
    "profile.stats.guides": "Verbundene Guides",
    "profile.stats.destinations": "Ziele",
    "profile.tabs.overview": "√úbersicht",
    "profile.tabs.trips": "Reisen",
    "profile.tabs.achievements": "Erfolge",
    "profile.tabs.settings": "Einstellungen",
    "profile.bio": "Biografie",
    "profile.languages": "Gesprochene Sprachen",
    "profile.interests": "Interessen",
    "profile.favorites": "Lieblingsziele",
    "profile.settings.notifications": "Benachrichtigungen verwalten",
    "profile.settings.privacy": "Datenschutz",
    "profile.settings.language": "Sprache und Region",
    "profile.settings.help": "Hilfe und Support",
    "profile.settings.logout": "Abmelden",

    // Notifications
    "notifications.title": "Benachrichtigungen",
    "notifications.push": "Push-Benachrichtigungen",
    "notifications.push.enable": "Push-Benachrichtigungen aktivieren",
    "notifications.push.test": "Benachrichtigungen testen",
    "notifications.types": "Benachrichtigungstypen",
    "notifications.messages": "Neue Nachrichten",
    "notifications.bookings": "Buchungen",
    "notifications.promotions": "Aktionen",
    "notifications.channels": "Benachrichtigungskan√§le",
    "notifications.email": "E-Mail",
    "notifications.sms": "SMS",
    "notifications.quiet.hours": "Ruhezeiten",

    // Confidentialit√©
    "privacy.title": "Datenschutz",
    "privacy.profile.visibility": "Profilsichtbarkeit",
    "privacy.location": "Standort",
    "privacy.messages": "Nachrichten",
    "privacy.data": "Daten und Analyse",

    // Langue
    "language.title": "Sprache und Region",
    "language.app": "App-Sprache",
    "language.regional": "Regionales Format",
    "language.content": "Bevorzugte Inhaltssprachen",
    "language.changing": "Sprache wird ge√§ndert...",
    "language.changed": "Sprache erfolgreich ge√§ndert!",

    // Commun
    "common.save": "Speichern",
    "common.cancel": "Abbrechen",
    "common.confirm": "Best√§tigen",
    "common.back": "Zur√ºck",
    "common.loading": "Laden...",
    "common.error": "Ein Fehler ist aufgetreten",
    "common.success": "Erfolg!",
  },
}

export function LanguageProvider({ children }: { children: React.ReactNode }) {
  const [language, setLanguageState] = useState<Language>("en")

  // Charger la langue depuis le localStorage au d√©marrage
  useEffect(() => {
    const savedLanguage = localStorage.getItem("tripers-language") as Language
    if (savedLanguage && translations[savedLanguage]) {
      setLanguageState(savedLanguage)
    }
  }, [])

  const setLanguage = (lang: Language) => {
    setLanguageState(lang)
    localStorage.setItem("tripers-language", lang)
  }

  const t = (key: string): string => {
    const translation = translations[language]?.[key]
    if (!translation) {
      // Retourner la traduction anglaise par d√©faut si elle existe
      return translations.en[key] || key
    }
    return translation
  }

  return <LanguageContext.Provider value={{ language, setLanguage, t }}>{children}</LanguageContext.Provider>
}

export function useLanguage() {
  const context = useContext(LanguageContext)
  if (context === undefined) {
    throw new Error("useLanguage must be used within a LanguageProvider")
  }
  return context
}
